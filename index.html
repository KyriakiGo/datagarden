<!DOCTYPE html>
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <!-- <title>Goni</title> -->

    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@1.2.0/dist/aframe-orbit-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script>




    <!-- <script src="./aframe-ar-nft.js"></script> -->
    <script src='./javascript.js'></script>

</head>
<body>

    <div class="arjs-loader">
        <img id="totem" src="./resources/totem_small_green.png" alt="">
    </div>
    <a-scene
        vr-mode-ui="enabled: false;"
        renderer='colorManagement: true; antialias: true; alpha: true; precision: mediump;'

        embedded arjs='trackingMethod: best; sourceType: webcam; debugUIEnabled: false;'

    >
        <a-assets>

            <a-asset-item id="model" src="./resources/flower_data.glb" ></a-asset-item>
            <a-asset-item id="text-model" src="./resources/text.glb" ></a-asset-item>
            <!-- <a-sky color="#ECECEC"></a-sky> -->
            <!-- <img id="tex-image" src="../resources/Map-COL.jpg"> -->


        </a-assets>


        <a-nft
            samplehandler
            type='nft' url="./resources/nft/QR_green_small"
            smooth="true" smoothCount="10" smoothTolerance="0.01" smoothThreshold="5"
        >
            <!-- <a-entity modify-materials gltf-model="#model" material="src:#tex-image" play-all-model-animations="" position="0 0 0" rotation="0 0 0" scale="100 100 100" visible="true">
            </a-entity> -->

        </a-nft>
        <a-entity id="flower"
        gltf-model="#model"
        model-opacity="0.0"
        animation-mixer="clip: *; loop:repeat"
        position="0 0 -100"
        rotation="0 0 0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 50000; easing: linear"
        animation__fadeIn="property: model-opacity; to: 1.0; dur:1000; loop: 1; startEvents: fade-in"
        animation__fadeOut="property: model-opacity; to: 0.0; dur:1000; loop: 1; startEvents: fade-out"
        scale="1 1 1"
        fade-time="10000000000"
        visible="true">
        </a-entity>

        <a-entity id="text"
        gltf-model="#text-model"
        model-opacity="0.0"

        position="0 0 -95"
        rotation="0 0 0"

        animation__fadeIn="property: model-opacity; to: 1.0; dur:1000; loop: 1; startEvents: fade-in"
        animation__fadeOut="property: model-opacity; to: 0.0; dur:1000; loop: 1; startEvents: fade-out"
        scale="2 2 2"

        visible="true">
        </a-entity>

        <a-entity camera orbit-controls="target: 0 1.6 -100; minDistance: 0.5; maxDistance: 180; initialPosition: 0 5 15"></a-entity>
        <!-- <a-entity id="rig"

        movement-controls
        position="25 0 25"
          >
		<a-entity camera
    position="0 0 0"
              look-controls="pointerLockEnabled: true"
    >
            </a-entity>

</a-entity> -->
	</a-scene>
</body>
